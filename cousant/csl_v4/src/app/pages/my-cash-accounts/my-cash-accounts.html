<!--
  Generated template for the MyCashAccountsPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-toolbar color="transparent">
    <ion-menu-toggle>
      <ion-button>
        <ion-icon name="menu"></ion-icon>
      </ion-button>
    </ion-menu-toggle>

    <ion-title>Cash Accounts</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div class="white-color">
    <ion-grid padding>
      <h5>Summary</h5>
      <ion-row>
        <ion-col size="6" *ngIf="usersAccounts">
          <h6>{{usersCurrentBalance | currency : "NGN" : 2}}</h6></ion-col
        >
        <ion-col size="6" *ngIf="usersAccounts">
          <h5>{{usersAvailableBalance | currency : "NGN" : 2 }}</h5></ion-col
        >
        <ion-col size="6" *ngIf="userAccounts">
          <h5>
            {{sumAccountBalance(userAccounts,'available')| currency : "NGN" : 2
            }}
          </h5></ion-col
        >
        <ion-col size="6" *ngIf="userAccounts">
          <h6>
            {{sumAccountBalance(userAccounts,'current') | currency : "NGN" : 2}}
          </h6></ion-col
        >
      </ion-row>

      <ion-row>
        <ion-col size="6">Total value</ion-col>
        <ion-col size="6">Available balance</ion-col>
      </ion-row>
    </ion-grid>
  </div>
  <ion-grid padding>
    <ion-list *ngIf="usersAccounts">
      <div *ngFor="let accounts of usersAccounts; let userIdIndex = index;">
        <ion-card
          *ngFor="let account of accounts; let i = index;"
          class="balance"
          (click)="getStatement( customerIdList[userIdIndex],account.accountNum, account.currentBalance, account.availableBalance )"
        >
          <ion-card-header class="border-bottom">
            {{account.accountName}} ( {{account.accountNum}} )
            <ion-icon
              class="primary-color"
              item-end
              name="ios-arrow-forward"
            ></ion-icon>
          </ion-card-header>

          <ion-card-content>
            <ion-row>
              <ion-col size="6">Current value </ion-col>
              <ion-col size="6" class="to-right">Available</ion-col>
              <ion-col size="6">
                <h4 class="primary-color">
                  {{account.currentBalance | currency : "NGN" : 2 }}
                </h4></ion-col
              >
              <ion-col size="6">
                <h6 class="success-color to-right">
                  {{account.availableBalance | currency : "NGN" : 2 }}
                </h6></ion-col
              >
            </ion-row>
          </ion-card-content>
        </ion-card>
      </div>
    </ion-list>

    <ion-list *ngIf="userAccounts">
      <ion-card
        *ngFor="let account of userAccounts"
        class="balance"
        (click)="getStatement( account.accountNum )"
      >
        <ion-card-header>
          <div float-left>
            {{account.accountName}} <small>( {{account.accountNum}} )</small>
          </div>
          <div float-right>
            <ion-icon
              class="primary-color"
              slot="end"
              name="ios-arrow-forward"
            ></ion-icon>
          </div>
        </ion-card-header>

        <ion-card-content>
          <ion-row>
            <ion-col size="6">Current value </ion-col>
            <ion-col size="6" class="to-right">Available</ion-col>
            <ion-col size="6">
              <h4 class="primary-color">
                {{account.currentBalance | currency : "NGN" : 2 }}
              </h4></ion-col
            >
            <ion-col size="6">
              <h6 class="success-color to-right">
                {{account.availableBalance | currency : "NGN" : 2 }}
              </h6></ion-col
            >
          </ion-row>
        </ion-card-content>
      </ion-card>
    </ion-list>
  </ion-grid>
</ion-content>
