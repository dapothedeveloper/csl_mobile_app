<!--
  Generated template for the ViewStockPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>{{stockName}}</ion-title>
  </ion-navbar>

</ion-header>


<ion-content>
  <ion-list>

  </ion-list>
  <!-- <canvas id="stockChart">
    
  </canvas> -->
<table padding>
  <tbody>
    <tr>
      <td>Open</td>
      <td>{{stockData.openingPrice}}</td>
      <td>52 WK High</td>
      <td>{{stockData.high}}</td>
    </tr>

    <tr>
      <td>High</td>
      <td>{{stockData.high}}</td>
      <td>52 WK Low</td>
      <td>{{stockData.low}}</td>
    </tr>

    <tr>
      <td>Low</td>
      <td>{{stockData.low}}</td>
      <td>Volume</td>
      <td>{{stockData.volume}}</td>
    </tr>

    <tr>
      <td>Prev Close</td>
      <td>{{stockData.prevClose}}</td>
      <td></td>
      <td></td>
    </tr>
  </tbody>
</table>
<p padding>Current deals for<strong> {{stockName}}</strong></p>
<ion-row>
  <!-- BUY -->
  <ion-col col-12 class="buy">
      <p text-center>BUY</p>
    <p text-center [hidden]="!bidsError">{{bidsError}} {{stockName}}</p>
      <table>
        <thead>
          <td>Count</td>
          <td>Vol</td>
          <td>Price</td>
        </thead>
        <tbody>
          <tr *ngFor="let bid of bids | slice:0:5;">
            <td>{{bid.ORDER_COUNT}}</td>
            <td>{{bid.QUANTITY_ON_OFFER}}</td>
            <td>{{bid.OFFER_PRICE}}</td>
          </tr>    
        </tbody>
      </table>
  </ion-col>
</ion-row>
<!-- SELL -->
<ion-row>
  <ion-col col-12 class="sell">
    <p text-center>SELL</p>
    <p text-center [hidden]="!offersError">{{offersError}} {{stockName}}</p>
      <table>
        <thead>
          <td>Count</td>
          <td>Vol</td>
          <td>Price</td>
        </thead>
        <tbody>
          <tr *ngFor="let offer of offers | slice:0:5;">
            <td>{{offer.ORDER_COUNT}}</td>
            <td>{{offer.QUANTITY_ON_OFFER}}</td>
            <td>{{offer.OFFER_PRICE}}</td>
          </tr>
        </tbody>
      </table>
  </ion-col>
</ion-row>


</ion-content>

<ion-footer color="primary">

    <ion-row>
       <ion-col col-6>
         <button color="secondary" ion-button class="csl-button" (click)="addToWatchlist()"> <ion-icon name="add" ></ion-icon>&nbsp; Add to watchlist </button>
       </ion-col>
       <ion-col col-6 text-right>
         <button color="success" ion-button class="csl-button" (click)="buyStock()"> &nbsp; Buy </button>
       </ion-col>
     </ion-row>
   
 </ion-footer>
 